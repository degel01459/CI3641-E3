# Ejercicio 1

Tomando en cuenta las definiciones de X, Y y Z planteadas en los párrafos de introducción del examen, considere las siguientes definiciones de variables:

```math
L1 = min(X,Y)   U1 = max(X,Y)+1 \\
L2 = min(X,Z)   U2 = max(X,Z)+1 \\
L3 = min(Y,Z)   U3 = max(Y,Z)+1 \\

I = [L1+U1/2] \\
J = [L2+U2/2] \\
K = [L3+U3/2] \\
```

Considere también la siguiente declaración:

```math
M :array [L1..U1] of\ array [L2..U2] of\ array [L3..U3] of\ T \\
```

Suponiendo que M inicia en la dirección cero (0) y que el tamaño del tipo T es cuatro (4), se desea que calcule:

(a) La dirección de `M[I][J][K]` si las matrices se guardan en row–major.
(b) La dirección de `M[I][J][K]` si las matrices se guardan en column–major.

## Resolución del Ejercicio 1

1. Definición de Constantes y Rangos.

Utilizamos las constantes del carnet:

```math
X = 6, Y = 6, Z = 1
```

Dimensiones (Límite Inferior L y Superior U):
Dimensión 1 (L1..U1):

```math
L_1 = min(X,Y) = (6,6) = 6 \\
U_1 = max(X,Y)+1 = (6,6) + 1 = 7 \\
Rango: [6..7] -> Cantidad\ de\ elementos \\
N_1 = 7 - 6 + 1 = 2. \\
```

Dimensión 2 (L2..U2):

```math
L_2 = min(X,Z) = (6,1) = 1 \\
U_2 = max(X,Z)+1 = (6,1) + 1 = 7 \\
Rango: [1..7] -> Cantidad\ de\ elementos \\
N_2 = 7 - 1 + 1 = 7 \\
```

Dimensión 3 (L3..U3):

```math
L_3 = min(Y,Z) = (6,1) = 1 \\
U_3 = max(Y,Z)+1 = (6,1) + 1 = 7 \\
Rango: [1..7] -> Cantidad\ de\ elementos \\
N_3 = 7 - 1 + 1 = 7 \\
```

Índices Solicitados (I, J, K):
Calculamos la parte entera de los indices.

```math
I = [L1+U1/2] = [6+7/2]=6 \\
J = [L2+U2/2] = [1+7/2]=4 \\
K = [L3+U3/2] = [1+7/2]=4 \\
```

Datos de Memoria:

- Dirección Base `(B)` = 0
- Tamaño de `T(S)` = 4 bytes
- Elemento buscado: `M[6][4][4]`

### (a) Cálculo en Row-Major (Orden por Filas)

En el orden row-major, los elementos de la derecha varían más rápido.
La fórmula general es:

```math
Direccion = B + S \times [ (i - L1) \times N2 \times N3 + (j - L2) \times N3 + (k - L3) ] \\
```

```math
Índice\ normalizado\ I (Dim 1): (6 - 6) = 0 \\
Desplazamiento: 0 \times 7 \times 7 = 0 \\

Índice\ normalizado\ J (Dim 2): (4 - 1) = 3 \\
Desplazamiento: 3 \times 7 = 21 \\

Índice\ normalizado\ K (Dim 3): (4 - 1) = 3 \\
Desplazamiento: 3\ (Es\ la\ última\ dimensión) \\

Desplazamiento\ Total (En\ elementos): 0 + 21 + 3 = 24\ Elementos. \\
Dirección\ Final: 0 + (24 \times 4) = 96 \\
```

### (b) Cálculo en Column-Major (Orden por Columnas)
En column-major, el índice de la izquierda varía más rápido es contiguo en memoria.
La fórmula general es:

```math
Direccion = B + S \times [ (i - L1) + (j - L2) \times N1 + (k - L3) \times N1 \times N2 ] \\
```

```math
Índice\ normalizado\ I (Dim 1): (6 - 6) = 0 \\
Es\ contiguo,\ desplazamiento: 0 \\

Índice\ normalizado\ J (Dim 2): (4 - 1) = 3 \\
Cada\ salto\ de\ j\ salta\ toda\ la\ columna\ N1: 3 \times 2 = 6 \\

Índice\ normalizado\ K (Dim 3): (4 - 1) = 3 \\
Cada\ salto\ de\ k\ salta\ todo\ el\ plano\ N1 \times N2: \times3 \times (2 \times 7) = 3 \times 14 = 42 \\

Desplazamiento\ Total (En\ elementos): 0 + 6 + 42 = 48\ Elementos \\
Dirección\ Final: 0 + (48 \times 4) = 192 \\
```
